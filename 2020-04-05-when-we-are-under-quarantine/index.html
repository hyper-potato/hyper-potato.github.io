<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>A boring look into my Spotify playlist - Hyper Potato&#39;s Blog</title>
        <meta name="Description" content="Hi, here is Nina"><meta property="og:title" content="A boring look into my Spotify playlist" />
<meta property="og:description" content="Sit tight and listen to music
For the past weeks, I’ve taken breaks from staring blankly into the middle distance to dip deeper into my playlists than I have in years.
I’m using Spotify only since last year here and there, most of time I use apple music as the main source of music. I like the feature of adding songs to library on apple music. By innertion I’m still using the library to save songs that I like." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hyper-potato.github.io/2020-04-05-when-we-are-under-quarantine/" />
<meta property="og:image" content="https://hyper-potato.github.io/logo.png"/>
<meta property="article:published_time" content="2020-04-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-05T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hyper-potato.github.io/logo.png"/>

<meta name="twitter:title" content="A boring look into my Spotify playlist"/>
<meta name="twitter:description" content="Sit tight and listen to music
For the past weeks, I’ve taken breaks from staring blankly into the middle distance to dip deeper into my playlists than I have in years.
I’m using Spotify only since last year here and there, most of time I use apple music as the main source of music. I like the feature of adding songs to library on apple music. By innertion I’m still using the library to save songs that I like."/>
<meta name="application-name" content="Hyper Potato&#39;s Blog">
<meta name="apple-mobile-web-app-title" content="Hyper Potato&#39;s Blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://hyper-potato.github.io/2020-04-05-when-we-are-under-quarantine/" /><link rel="prev" href="https://hyper-potato.github.io/2020-03-18-change-category-colour-across-plots/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "A boring look into my Spotify playlist",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/hyper-potato.github.io\/2020-04-05-when-we-are-under-quarantine\/"
        },"image": {
                "@type": "ImageObject",
                "url": "https:\/\/hyper-potato.github.io\/cover.png",
                "width":  800 ,
                "height":  600 
            },"genre": "posts","keywords": "EDA, Python, music, data analysis","wordcount":  1189 ,
        "url": "https:\/\/hyper-potato.github.io\/2020-04-05-when-we-are-under-quarantine\/","datePublished": "2020-04-05T00:00:00+00:00","dateModified": "2020-04-05T00:00:00+00:00","publisher": {
                "@type": "Organization",
                "name": "xxxx",
                "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/hyper-potato.github.io\/logo.png",
                "width":  127 ,
                "height":  40 
                }
            },"author": {
                "@type": "Person",
                "name": "Nina"
            },"description": ""
    }
    </script></head>
    <body><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Hyper Potato&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading/small.min.svg"
        data-src="/images/me/robot.png"
        data-srcset="/images/me/robot.png, /images/me/robot.png 1.5x, /images/me/robot.png 2x"
        data-sizes="auto"
        alt="Hyper Potato&#39;s Blog"
        title="Hyper Potato&#39;s Blog" /><span class="header-title-pre"> </span>Hyper Potato&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Hyper Potato&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading/small.min.svg"
        data-src="/images/me/robot.png"
        data-srcset="/images/me/robot.png, /images/me/robot.png 1.5x, /images/me/robot.png 2x"
        data-sizes="auto"
        alt="Hyper Potato&#39;s Blog"
        title="Hyper Potato&#39;s Blog" /><span class="header-title-pre"> </span>Hyper Potato&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">A boring look into my Spotify playlist</h1><h2 class="single-subtitle">Let&#39;s jam out</h2><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author">
                  <p><i class="far fa-hand-spock fa-fw"></i> Nina</p>
                    
                </span>&nbsp;<time datetime=2020-04-05>2020-04-05</time>&nbsp;&nbsp;
                    <span class="post-category">included in<a href="/categories/eda/">
                                <i class="far fa-folder fa-fw"></i>EDA
                            </a></span></div>
            
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading/normal.min.svg"
        data-src="/images/pornography-thecure.jpeg"
        data-srcset="/images/pornography-thecure.jpeg, /images/pornography-thecure.jpeg 1.5x, /images/pornography-thecure.jpeg 2x"
        data-sizes="auto"
        alt="/images/pornography-thecure.jpeg"
        title="/images/pornography-thecure.jpeg" /></div><div class="details toc" id="toc-static">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#preparation">Preparation</a></li>
    <li><a href="#get-audio-features-of-song-tracks">Get audio features of song tracks</a></li>
    <li><a href="#a-glimpse-of-my-playlists">A glimpse of my playlists</a>
      <ul>
        <li><a href="#top-artists">Top artists</a></li>
        <li><a href="#audio-features-of-song-tracks">Audio features of song tracks</a></li>
      </ul>
    </li>
    <li><a href="#how-different-and-similar-among-songs">How different and similar among songs?</a>
      <ul>
        <li><a href="#most-similar-songs">Most similar songs</a></li>
        <li><a href="#most-average-songs">Most average songs</a></li>
        <li><a href="#most-so-not-me-songs">Most &lsquo;So not me&rsquo; songs</a></li>
      </ul>
    </li>
    <li><a href="#next">Next</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p><strong>Sit tight and listen to music</strong></p>
<p>For the past weeks, I’ve taken breaks from staring blankly into the middle distance to dip deeper into my playlists than I have in years.</p>
<p>I’m using Spotify only since last year here and there, most of time I use apple music as the main source of music. I like the feature of adding songs to library on apple music. By innertion I’m still using the library to save songs that I like. After moving apple music library to Spotify, I nerded out to see how my playlist looks under Spotify&rsquo;s standard.</p>
<h2 id="preparation">Preparation</h2>
<p>To get the data I used <a href="https://developer.spotify.com/documentation/web-api/" target="_blank" rel="noopener noreffer">Spotify API</a> and <a href="https://github.com/plamere/spotipy" target="_blank" rel="noopener noreffer">spotipy</a> as a Python client. After creating a web application in Spotify API Dashboard and gathering the credentials, I was able to initialize and authorize the client.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">spotipy</span>
<span class="kn">import</span> <span class="nn">spotipy.util</span> <span class="kn">as</span> <span class="nn">util</span>

<span class="n">token</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">prompt_for_user_token</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span>
                                   <span class="n">scope</span> <span class="o">=</span> <span class="s1">&#39;playlist-read-collaborative&#39;</span><span class="p">,</span>
                                   <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
                                   <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
                                   <span class="n">redirect_uri</span><span class="o">=</span> <span class="n">redirect_uri</span><span class="p">)</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">spotipy</span><span class="o">.</span><span class="n">Spotify</span><span class="p">(</span><span class="n">auth</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
</code></pre></div><h2 id="get-audio-features-of-song-tracks">Get audio features of song tracks</h2>
<p>As everything is inside just one playlist, it was easy to gather. The only problem was that <code>user_playlist</code> method in Spotipy doesn’t support pagination and can only return the first 100 track, but it was easily solved by adding condition of <code>while more_songs</code></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_features_from_playlist</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">playlist_id</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="s1">&#39;&#39;&#39;
</span><span class="s1">    Takes in a user_id and a playlist_id and returns a dataframe of a user&#39;s playlist songs
</span><span class="s1">    &#39;&#39;&#39;</span>
    <span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">track_list</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">uploader_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">added_ts_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">artist_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">title_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">more_songs</span> <span class="o">=</span> <span class="bp">True</span> <span class="c1">#As long as there is tracks not fetched from API, continue looping</span>
    <span class="n">offset_index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">playlist_id</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">user</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Enter username for playlist&#34;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">while</span> <span class="n">more_songs</span><span class="p">:</span>
        <span class="n">songs</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">user_playlist_tracks</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">playlist_id</span><span class="o">=</span><span class="n">playlist_id</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset_index</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">songs</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
        <span class="c1">#join track ids to a single string as an input parameter for audio_features function</span>
            <span class="n">track_list</span> <span class="o">+=</span> <span class="n">song</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">+</span><span class="s1">&#39;,&#39;</span>

            <span class="c1">#get the time when the song was added</span>
            <span class="n">added_ts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">song</span><span class="p">[</span><span class="s1">&#39;added_at&#39;</span><span class="p">])</span>

            <span class="c1">#get the title of the song</span>
            <span class="n">title_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">song</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>

            <span class="c1">#get all the artists in the song</span>
            <span class="n">artists</span> <span class="o">=</span> <span class="n">song</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">]</span>
            <span class="n">artists_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">artists</span><span class="p">:</span>
                <span class="n">artists_name</span> <span class="o">+=</span> <span class="n">artist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="s1">&#39;,&#39;</span>
            <span class="n">artist_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">artists_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="c1">#get user who added song in the playlist, catering for collaboration playlists</span>
            <span class="n">uploader_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">song</span><span class="p">[</span><span class="s1">&#39;added_by&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>

        <span class="c1">#get the track features and append into a dataframe</span>
        <span class="n">track_features</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">track_list</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">df_temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">track_features</span><span class="p">)</span>
        <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_temp</span><span class="p">)</span>
        <span class="n">track_list</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="k">if</span> <span class="n">songs</span><span class="p">[</span><span class="s1">&#39;next&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># no more songs in playlist</span>
            <span class="n">more_songs</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># get the next n songs</span>
            <span class="n">offset_index</span> <span class="o">+=</span> <span class="n">songs</span><span class="p">[</span><span class="s1">&#39;limit&#39;</span><span class="p">]</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Progress: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">offset_index</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; of &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">songs</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]))</span>

    <span class="c1">#add the timestamp added, title and artists of a song</span>
    <span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;added_at&#39;</span><span class="p">],</span> <span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;song_title&#39;</span><span class="p">],</span> <span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;artists&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">added_ts_list</span><span class="p">,</span> <span class="n">title_list</span><span class="p">,</span> <span class="n">artist_list</span>
    <span class="k">return</span> <span class="n">df_result</span>    
</code></pre></div><h2 id="a-glimpse-of-my-playlists">A glimpse of my playlists</h2>
<p>get all my playlist:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">user_playlists</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">user_playlists</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;6sv95ub14tdhriy0zglf28t6a&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">playlist</span> <span class="ow">in</span> <span class="n">user_playlists</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">6BgM0WE6GXv2HLXYj1D4lu Quarantine Lib
42PZihHa5JlJOqfNjd470c Driving
3NVmRhOFS8OATMTRHP6mUB In Case Of Running
21BwKkjfxTc1AKYTl7QxkL wedding
5y7VC5N6v4M8ZqeN7SWTvK Detached
6sRetqhCIdjFqh1AONjCF2 From Movies
</code></pre></div><p>first column is playlist id, second is the name of playlist</p>
<p>Let&rsquo;s dive into playlist &lsquo;Quarantine Lib&rsquo;  🙌</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">playlist</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">user_playlist</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="s1">&#39;6BgM0WE6GXv2HLXYj1D4lu&#39;</span><span class="p">)</span>
<span class="n">tracks</span> <span class="o">=</span> <span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]</span>
<span class="n">next_uri</span> <span class="o">=</span> <span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">][</span><span class="s1">&#39;next&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">][</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">][</span><span class="s1">&#39;limit&#39;</span><span class="p">])):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">next_uri</span><span class="p">)</span>
    <span class="n">tracks</span> <span class="o">+=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span>
    <span class="n">next_uri</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;next&#39;</span><span class="p">]</span>

<span class="n">tracks_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                           <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;artists&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                           <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                           <span class="n">parse_date</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">])</span> <span class="k">if</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;track&#39;</span><span class="p">][</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;release_date&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
                           <span class="n">parse_date</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;added_at&#39;</span><span class="p">]))</span>
                          <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">playlist</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]],</span>
                         <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;artist&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;release_date&#39;</span><span class="p">,</span> <span class="s1">&#39;added_at&#39;</span><span class="p">]</span> <span class="p">)</span>
</code></pre></div><h3 id="top-artists">Top artists</h3>
<p>The first vanilla idea was the list of the most appearing artists in my playlist:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tracks_df</span> \
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;artist&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> \
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> \
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;amount&#39;</span><span class="p">})</span> \
    <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p><img src="https://i.loli.net/2020/04/06/8Ceh7XnRbWOPvDu.png" alt="image.png" style="zoom:50%;" /></p>
<h3 id="audio-features-of-song-tracks">Audio features of song tracks</h3>
<p>Spotify API has <a href="https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/" target="_blank" rel="noopener noreffer">an endpoint</a> that provides features like danceability, energy, loudness and etc for tracks. So I gathered features for all tracks from the playlist. I don&rsquo;t have years of records on Spotify so it&rsquo;s difficult to check how my taste has changed over years. 🤷‍♀️</p>
<p>So I looked at if my music habits changes under lockdown. It turns out only <code>Valence</code> had some visible difference:</p>
<blockquote>
<p>Valence: A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry).</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_2020</span><span class="o">.</span><span class="n">added_at</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df_2020</span><span class="o">.</span><span class="n">valence</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#1eb954&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&#34;Valence changes over months&#34;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div><p><img src="https://i.loli.net/2020/04/06/ER7gCzIdf3BtaLM.png" alt="image.png" style="zoom:50%;" /></p>
<p>But right now it looks like this</p>
<p><img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://i.loli.net/2020/04/06/PjBUf851hLvrHdi.png"
        data-srcset="https://i.loli.net/2020/04/06/PjBUf851hLvrHdi.png, https://i.loli.net/2020/04/06/PjBUf851hLvrHdi.png 1.5x, https://i.loli.net/2020/04/06/PjBUf851hLvrHdi.png 2x"
        data-sizes="auto"
        alt="image.png"
        title="image.png" /></p>
<p>Let&rsquo;s just say I&rsquo;ve tried to be chipper under quarantine, because I’m afraid that if there&rsquo;s one crack, I’ll fall apart completely.</p>
<h2 id="how-different-and-similar-among-songs">How different and similar among songs?</h2>
<p>I took those features out and calculate the distance between every two different tracks. (matrix production)</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">encode_fields</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;danceability&#39;</span><span class="p">,</span>
    <span class="s1">&#39;energy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;key&#39;</span><span class="p">,</span>
    <span class="s1">&#39;loudness&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mode&#39;</span><span class="p">,</span>
    <span class="s1">&#39;speechiness&#39;</span><span class="p">,</span>
    <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span>
    <span class="s1">&#39;instrumentalness&#39;</span><span class="p">,</span>
    <span class="s1">&#39;liveness&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valence&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tempo&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration_ms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;time_signature&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">-</span> <span class="n">tracks_with_features_df</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
        <span class="o">/</span> <span class="p">(</span><span class="n">tracks_with_features_df</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">tracks_with_features_df</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">encode_fields</span><span class="p">])</span>

<span class="n">tracks_with_features_encoded_df</span> <span class="o">=</span> <span class="n">tracks_with_features_df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
    <span class="n">encoded</span><span class="o">=</span><span class="n">tracks_with_features_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">encode</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tracks_w_features_encoded_product</span> <span class="o">=</span> <span class="n">tracks_w_features_encoded</span> \
    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tracks_w_features_encoded</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;temp&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;temp&#39;</span><span class="p">)</span>

<span class="n">tracks_w_features_encoded_product</span> <span class="o">=</span> <span class="n">tracks_w_features_encoded_product</span><span class="p">[</span>
    <span class="n">tracks_w_features_encoded_product</span><span class="o">.</span><span class="n">id_x</span> <span class="o">!=</span> <span class="n">tracks_w_features_encoded_product</span><span class="o">.</span><span class="n">id_y</span>
<span class="p">]</span>

<span class="n">tracks_w_features_encoded_product</span><span class="p">[</span><span class="s1">&#39;merge_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tracks_w_features_encoded_product</span> \
    <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;id_x&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;id_y&#39;</span><span class="p">]])),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">tracks_w_features_encoded_product</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tracks_w_features_encoded_product</span> \
    <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;encoded_x&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;encoded_y&#39;</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div><h3 id="most-similar-songs">Most similar songs</h3>
<p>After that I was able to get most similar songs/songs with the minimal distance, and it selected kind of similar songs:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tracks_w_features_encoded_product</span> \
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;distance&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="s1">&#39;merge_id&#39;</span><span class="p">)</span> \
    <span class="p">[[</span><span class="s1">&#39;artists_x&#39;</span><span class="p">,</span> <span class="s1">&#39;song_title_x&#39;</span><span class="p">,</span> <span class="s1">&#39;artists_y&#39;</span><span class="p">,</span> <span class="s1">&#39;song_title_y&#39;</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">]]</span> \
    <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><table>
<thead>
<tr>
<th>artists_x</th>
<th>song_title_x</th>
<th>artists_y</th>
<th>song_title_y</th>
<th>distance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Florence + The Machine</td>
<td>The End Of Love</td>
<td>Glass Animals</td>
<td>Gooey</td>
<td>0.011732</td>
</tr>
<tr>
<td>OK Go</td>
<td>Here It Goes Again</td>
<td>The Jesus and Mary Chain</td>
<td>Some Candy Talking</td>
<td>0.108457</td>
</tr>
<tr>
<td>Muse</td>
<td>Starlight</td>
<td>AC/DC</td>
<td>Thunderstruck</td>
<td>0.141387</td>
</tr>
<tr>
<td>Ween</td>
<td>Mutilated Lips</td>
<td>Pulp</td>
<td>Something Changed</td>
<td>0.158513</td>
</tr>
<tr>
<td>Men I Trust</td>
<td>Tailwhip</td>
<td>Blur</td>
<td>My Terracotta Heart</td>
<td>0.161328</td>
</tr>
<tr>
<td>Talking Heads</td>
<td>Road to Nowhere</td>
<td>HAIM</td>
<td>The Steps</td>
<td>0.162264</td>
</tr>
<tr>
<td>Halestorm</td>
<td>Bad Romance</td>
<td>Dodgy</td>
<td>Good Enough</td>
<td>0.162886</td>
</tr>
<tr>
<td>Oasis</td>
<td>Wonderwall - Remastered</td>
<td>The Vaccines</td>
<td>If You Wanna</td>
<td>0.163632</td>
</tr>
<tr>
<td>Glass Animals</td>
<td>Black Mambo</td>
<td>Christine and the Queens</td>
<td>People, I&rsquo;ve been sad</td>
<td>0.165064</td>
</tr>
<tr>
<td>DYGL</td>
<td>Let It Out</td>
<td>Razorlight</td>
<td>In The Morning</td>
<td>0.165887</td>
</tr>
</tbody>
</table>
<p>Interesting&hellip;</p>
<p>and suprisely make sense!</p>
<h3 id="most-average-songs">Most average songs</h3>
<p>eg the songs with the least distance from every other song:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tracks_w_features_encoded_product</span> \
    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;artists_x&#39;</span><span class="p">,</span> <span class="s1">&#39;song_title_x&#39;</span><span class="p">])</span> \
    <span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span> \
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> \
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;distance&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><table>
<thead>
<tr>
<th>artists</th>
<th>song_title</th>
<th>distance</th>
</tr>
</thead>
<tbody>
<tr>
<td>The Animals</td>
<td>We Gotta Get Out Of This Place</td>
<td>758.802868</td>
</tr>
<tr>
<td>The Band Perry</td>
<td>If I Die Young</td>
<td>761.310917</td>
</tr>
<tr>
<td>Arctic Monkeys</td>
<td>Do I Wanna Know?</td>
<td>767.353926</td>
</tr>
<tr>
<td>One Direction</td>
<td>Story of My Life</td>
<td>773.588932</td>
</tr>
<tr>
<td>Urge Overkill</td>
<td>Girl, You&rsquo;ll Be a Woman Soon</td>
<td>775.938550</td>
</tr>
<tr>
<td>alt-J</td>
<td>Tessellate</td>
<td>783.974366</td>
</tr>
<tr>
<td>Guns N&rsquo; Roses</td>
<td>Knockin&rsquo; On Heaven&rsquo;s Door</td>
<td>786.414124</td>
</tr>
<tr>
<td>alt-J</td>
<td>Breezeblocks</td>
<td>787.258564</td>
</tr>
<tr>
<td>Divinyls</td>
<td>I Touch Myself</td>
<td>787.683498</td>
</tr>
<tr>
<td>Tears For Fears,Dave Bascombe</td>
<td>Head Over Heels - Dave Bascombe 7&rdquo; N.Mix</td>
<td>789.882583</td>
</tr>
</tbody>
</table>
<h3 id="most-so-not-me-songs">Most &lsquo;So not me&rsquo; songs</h3>
<table>
<thead>
<tr>
<th>Artists</th>
<th>song_title</th>
<th>distance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Per-Olov Kindgren</td>
<td>After Silence</td>
<td>1344.912261</td>
</tr>
<tr>
<td>MONO</td>
<td>Ashes in the Snow - Remastered</td>
<td>1277.382099</td>
</tr>
<tr>
<td>Wang Wen</td>
<td>Daybreak</td>
<td>1248.961555</td>
</tr>
<tr>
<td>Immortal Technique</td>
<td>Dance with the Devil</td>
<td>1234.134745</td>
</tr>
<tr>
<td>Flanger</td>
<td>Bosco&rsquo;s Disposable Driver</td>
<td>1229.194120</td>
</tr>
<tr>
<td>Lera Lynn</td>
<td>My Least Favorite Life</td>
<td>1224.326841</td>
</tr>
<tr>
<td>Dire Straits</td>
<td>Brothers in Arms</td>
<td>1222.817652</td>
</tr>
<tr>
<td>Bad Brains</td>
<td>Untitled (Bonus Track)</td>
<td>1203.332781</td>
</tr>
<tr>
<td>Dire Straits</td>
<td>Private Investigations</td>
<td>1201.117077</td>
</tr>
<tr>
<td>Gorillaz,Mavis Staples,Pusha T</td>
<td>Let Me Out (feat. Mavis Staples &amp; Pusha T)</td>
<td>1199.232041</td>
</tr>
</tbody>
</table>
<h2 id="next">Next</h2>
<p>I&rsquo;ll use cluster to bucket my favorite tracks when I get really bored.</p>
<img src='/images/google cute.jpeg'>
<h1 id="tl-dr">TL; DR</h1>
<p><strong>Let&rsquo;s jam out!</strong></p>
<p>How do you find good music you&rsquo;ve never heard before?</p>
<p>Try this website&hellip; <a href="http://www.gnoosic.com/" target="_blank" rel="noopener noreffer">www.gnoosic.com</a> you put in three of your favorite bands/artists, and it will recommend similar stuff that you most likely haven&rsquo;t heard of, or listened to.</p>
<p>And you will come back and thank me. You are welcome.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/2020-04-05-when-we-are-under-quarantine/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://hyper-potato.github.io/2020-04-05-when-we-are-under-quarantine/" data-title="A boring look into my Spotify playlist" data-hashtags="EDA,Python,music,data analysis"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://hyper-potato.github.io/2020-04-05-when-we-are-under-quarantine/" data-hashtag="EDA"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://hyper-potato.github.io/2020-04-05-when-we-are-under-quarantine/"><i class="fab fa-linkedin fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/eda/">EDA</a>,&nbsp;<a href="/tags/python/">python</a>,&nbsp;<a href="/tags/music/">music</a>,&nbsp;<a href="/tags/data-analysis/">data analysis</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/2020-03-18-change-category-colour-across-plots/" class="prev" rel="prev" title="Change category colour across plots in Seaborn"><i class="fas fa-angle-left fa-fw"></i>Change category colour across plots in Seaborn</a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;
                      Nina</div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript">
    window.config = {"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"headerMode":{"desktop":"fixed","mobile":"auto"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};
</script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=html5shiv%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2CPromise%2CObject.entries%2CObject.assign%2CObject.values%2Cfetch%2CElement.prototype.after%2CArray.prototype.fill%2CIntersectionObserver%2CArray.from%2CArray.prototype.find%2CMath.sign"></script><script type="text/javascript" src="https://xueni-me.disqus.com/embed.js" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/object-fit-images/ofi.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
